<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CFS Data Storage (DS) Application on  User&#39;s Guide: CFS Data Storage Operation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">CFS Data Storage (DS) User's Guide</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="cfsdsopr">CFS Data Storage Operation </a></h1><p>When DS receives a message that passes the filtering algorithm, the message is stored in a file or files based upon the File Table information for that message ID. Once a message is stored, the DS Housekeeping packet displays information about the open file. Each houskeeping cycle, DS evaluates the open files to determine if their age has been exceeded. If this determination is true, the file is closed by the DS application. Also, each time a message is to be stored, DS determines if the message will fit in the open file. If the determination is false, the open file will be closed and a new file created containing the message. A minimum of one message will be stored each file.</p>
<h2>Filtering</h2>
<p>Filtering is based upon message IDs. The Filter Table determines what messages DS will store. The DS application supports two types of filtering: </p>
<ol>
<li>
Sequence number based filtering </li>
<li>
Time based filtering. </li>
</ol>
<p>Each filtering type relies on three filter factors, N, X, and O where N of X messages will be stored starting at offset O. </p>
<h3>Sequence based Filtering</h3>
<p>This type of filtering uses the packet sequence number to determine if the message should be filtered or not. If X is greated than zero, the message shall be stored if and only if the sequence number modulo X is less than N. For example, N=4, X=6 and O=2 will store 4 of 6 messages starting at offset 2. </p>
<h3>Time based Filtering</h3>
<p>This type of filtering uses the spacecraft time code found in the CCSDS packet secondary header. Fifteen bits out of the 64-bit CCSDS time code field are used. The constructed 15-bit time stamp used for DS filtering consists of the 11 Least Significant Bits (LSB) of the seconds field and the 4 Most Significant Bits (MSB) of the sub-seconds field. Messages will be stored if and only if the constructed 15-bit time stamp modulo X is less than N. This type of filtering is rare in that the N value must be set to the desired 15-bit time stamp which is hard to specify. Testing used simulated values for the spacecraft time code.</p>
<p>Next: <a class="el" href="cfsdsreq.html">CFS Data Storage Requirements</a> <br/>
 Prev: <a class="el" href="cfsdsovr.html">CFS Data Storage Overview</a> </p>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 25 Jan 2017 for CFS Data Storage (DS) Application on  User's Guide by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
